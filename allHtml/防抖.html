<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <input type="text" placeholder="è¯·è¾“å…¥ç”µè¯å·ç ">
  <div id="box" style="height: 100px;width:100px;border: red 1px solid;"></div>
  <script>
    // é˜²æŠ–=ã€‹ å°†å¤šæ¬¡æ“ä½œç¼–ç¨‹ä¸€æ¬¡
    // åˆå­¦åˆ°äº†ä¸€ç‚¹çŸ¥è¯†:
    // document.getElementsByTagNameè¿”å›žçš„æ˜¯æ­¤ç±»æ‰€ä»¥,æ˜¯ä¸€ä¸ªæ•°ç»„
    // let a = document.getElementsByTagName('input')[0]
    // console.log("ðŸš€ ~ file: é˜²æŠ–.html ~ line 14 ~ a", a)
    let telInput = document.querySelector('input')
    console.log("ðŸš€ ~ file: é˜²æŠ–.html ~ line 14 ~ telInput", telInput)
    telInput.addEventListener('input', antiShake(demo,2000))
    // é˜²æŠ–å°è£…
    function antiShake(fn, wait){
      let timeOut = null
      return args => {
        if(timeOut) clearInterval(timeOut)
        timeOut = setTimeout(fn, wait)
      }
    }
    function demo() {
      console.log('å‘èµ·è¯·æ±‚')
    }


    // èŠ‚æµ =ã€‹ ä¸€å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡
    let box = document.getElementById('box')
    box.addEventListener('mousemove', throttle(demo,2000))
    function throttle(fn,wait) {
      console.log(111)
      let timer = null
      return function() {
        if(!timer) {
          timer = setTimeout(() => {
            fn()
            timer = null
          },wait)
        }
      }
    }

  </script>
</body>
</html>