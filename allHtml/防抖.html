<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <input type="text" placeholder="请输入电话号码">
  <div id="box" style="height: 100px;width:100px;border: red 1px solid;"></div>
  <script>
    // 防抖=》 将多次操作编程一次
    // 又学到了一点知识:
    // document.getElementsByTagName返回的是此类所以,是一个数组
    // let a = document.getElementsByTagName('input')[0]
    // console.log("🚀 ~ file: 防抖.html ~ line 14 ~ a", a)
    let telInput = document.querySelector('input')
    console.log("🚀 ~ file: 防抖.html ~ line 14 ~ telInput", telInput)
    telInput.addEventListener('input', antiShake(demo,2000))
    // 防抖封装
    function antiShake(fn, wait){
      let timeOut = null
      return args => {
        if(timeOut) clearInterval(timeOut)
        timeOut = setTimeout(fn, wait)
      }
    }
    function demo() {
      console.log('发起请求')
    }


    // 节流 =》 一定时间内只执行一次
    let box = document.getElementById('box')
    box.addEventListener('mousemove', throttle(demo,2000))
    function throttle(fn,wait) {
      console.log(111)
      let timer = null
      return function() {
        if(!timer) {
          timer = setTimeout(() => {
            fn()
            timer = null
          },wait)
        }
      }
    }


    // 这种方式定义的对象和数组没有原型prototype, 所以下面输出是undefined
    let obj2 = {}
    let arr2 = []
    console.log(obj2.prototype)// undefined
    console.log(arr2.prototype)// undefined

    // 原型prototype是函数特有

    // 但是都有原型链

    // 获取实例对象的是有属性方法是: obj.hasOwnProperty(key)
    //for(let i in obj){ if(obj.hasOwnProperty(key) ){} }


    console.log(typeof null) // object 表示‘无’对象 0
    console.log(typeof undefined) // 表示‘无’的原始值 NaN


    // 什么时候是undefined?
    /* 1.已经声明,未赋值 */
    /* 2.对象某个属性不存在 */
    /* 3.函数调用,少了参数 */
    /* 4.函数的默认返回值 */

    //null 赋值为null,告诉垃圾回收机制,这个变量我已经用完了,可以回收回去了,相当于手动释放内存
    let obj3 = {}
    obj3 = null
    // null可以作为函数的参数,表示此参数不是对象
    // null是原型链的顶端


    //======================================

    // forEach和map的区别
    /* forEach 没有返回值,不能用break打断,遍历的值是value */
    /* map会返回一个数组, 不能用break打断 */
    let arr3 = [1,2,3,4,5]
    let b = arr3.forEach(i => {
      console.log(i + 2)
      return i + 2
    })    
    console.log(b) // undefined 因为forEach没有返回值
    let c = arr3.map(i => i + 2)
    console.log(c) // [3, 4, 5, 6, 7] map返回一个数组




  </script>
</body>
</html>